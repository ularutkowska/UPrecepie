<div class="register-container">
  <div class="register-card">
    <h2 class="register-title">Create an Account</h2>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
      <div class="form-group">
        <label for="email">Email:</label>
        <input
          id="email"
          formControlName="email"
          type="email"
          class="form-control"
          [ngClass]="{ 'is-invalid': isFieldInvalid('email') }"
          placeholder="Enter your email"
        />
        @if (isFieldInvalid('email')) {
          <div class="error-message">
            @if (registerForm.get('email')?.hasError('required')) {
              <small>Email is required.</small>
            }
            @if (registerForm.get('email')?.hasError('email')) {
              <small>Invalid email format.</small>
            }
          </div>
        }
      </div>

      <div class="form-group">
        <label for="password">Password:</label>
        <input
          id="password"
          formControlName="password"
          type="password"
          class="form-control"
          [ngClass]="{ 'is-invalid': isFieldInvalid('password') }"
          placeholder="Create a password"
        />
        @if (isFieldInvalid('password')) {
          <div class="error-message">
            @if (registerForm.get('password')?.hasError('required')) {
              <small>Password is required.</small>
            }
            @if (registerForm.get('password')?.hasError('minlength')) {
              <small>Password must be at least 6 characters.</small>
            }
          </div>
        }
      </div>

      <div class="form-group">
        <label for="name">Name:</label>
        <input
          id="name"
          formControlName="name"
          class="form-control"
          [ngClass]="{ 'is-invalid': isFieldInvalid('name') }"
          placeholder="Enter your name"
        />
        @if (isFieldInvalid('name')) {
          <div class="error-message">
            <small>Name is required.</small>
          </div>
        }
      </div>

      <div class="form-group">
        <label for="surname">Surname:</label>
        <input
          id="surname"
          formControlName="surname"
          class="form-control"
          [ngClass]="{ 'is-invalid': isFieldInvalid('surname') }"
          placeholder="Enter your surname"
        />
        @if (isFieldInvalid('surname')) {
          <div class="error-message">
            <small>Surname is required.</small>
          </div>
        }
      </div>

      <button type="submit" class="register-btn" [disabled]="registerForm.invalid">
        Register
      </button>
    </form>

    @if (errorMessage) {
      <p class="error-text">{{ errorMessage }}</p>
    }
  </div>
</div>
